{% extends 'base.html.twig' %}

{% block title %}
	{{parent()}}-Accueil
{% endblock %}
{% block body %}

<div class="container-fluid">
    <div class="row justify-content-center">
	<h1 class="text-center text-primary mt-4 pt-4 display-1 fw-bold" style="font-family:Helvetica, sans-serif; text-align:center;">Bienvenue de Game-Eshop</h1>
	<div id="carouselExampleIndicators" class="carousel slide">
		<div class="carousel-indicators">
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
		</div>
		<div class="carousel-inner">
			<div class="carousel-item active " >
				<img src="images-fixe/ace attoney.jpg" class="d-block w-100" alt="photo">
				<div class="carousel-caption d-none d-md-block">
					<h2 class="text-danger" style="font-family:Helvetica, sans-serif; text-align:center;">Ace attoney</h2>
					<p>"OBJECTION"</p>
				</div>
			</div>
			<div class="carousel-item ">
				<img src="images-fixe/Zelda.jpg" class="d-block w-100" alt="photo">
				<div class="carousel-caption d-none d-md-block">
					<h2 class="text-danger" style="font-family:Helvetica, sans-serif; text-align:center;">The legend of Zelda</h2>
					<p>"it's dangerous to go alone! Take This."</p>
				</div>
			</div>
			<div class="carousel-item">
				<img src="images-fixe/Resident Evil.jpg" class="d-block w-100" alt="photo">
				<div class="carousel-caption d-none d-md-block">
					<h2 class="text-danger" style="font-family:Helvetica, sans-serif; text-align:center;">Resident Evil</h2>
					<p>"STAAAAARS !!!!"</p>
				</div>
			</div>
		</div>
		<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="visually-hidden" style="font-family:Helvetica, sans-serif; text-align:center;">Pr√©cedant</span>
		</button>
		<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
			<span class="carousel-control-next-icon" aria-hidden="true"></span>
			<span class="visually-hidden" style="font-family:Helvetica, sans-serif; text-align:center;">suivant</span>
		</button>
	</div>
	<div class="text-center">
	</div>
	<div class="row justify-content-centre pt-5">
		<div>
			{% for TypeProduit in TypeProduits %}
			<h2 style="font-family:Helvetica, sans-serif; text-align:center;">{{TypeProduit.typeProduit | capitalize}}
				:
				{{TypeProduit.produits | length }}
				produit(s)</h2>
			<div class="row row-cols-1 row-cols-md-5 g-5">
				{% for Produit in TypeProduit.produits %}
					<div class="col">
						<div class="card h-100 border border-danger-subtle" style="width: 15rem; border-radius:10px;">
							{% for Photo in Produit.photos %}
								{% if "jacket.jpg" == Photo.Nom %}
									<a href="{{path("app_Produit",{'id':Produit.id})}}">
										<img class="card-img-top" style="width: 15rem,  align-items: center; border-radius:10px" src="produit/{{Photo.chemin}}" alt="Photo du produit">
									</a>
								{% endif %}
							{% endfor %}
									<div class="card-body" style="width: 15rem,  align-items: center; border-radius:10px">
										<h5 class="card-title text-danger" style="font-family:Helvetica, sans-serif; text-align:center;">{{ Produit.nom }}</h5>
										{% for Supporter in Produit.supporters  %}
											<span class="badge rounded-pill text-bg-info" style="font-family:Helvetica, sans-serif; text-align:center;">{{ Supporter.support.nom }}</span>
										{% endfor %}
										<br>
										
										{% if is_granted('IS_AUTHENTICATED_FULLY') %}
											{% if Produit in app.user.aimer %}
											<a class="btn btn-danger" style="border-radius:10px;" href="{{path("app_adorer_base",{'id':Produit.id})}}">
												<i class="bi bi-suit-heart-fill "></i>
											</a>
											{% else %}
											<a class="btn btn-danger" style="border-radius:10px;" href="{{path("app_adorer_base",{'id':Produit.id})}}">
												<i class="bi bi-suit-heart "></i>
											</a>
											{% endif %}
										{% else %}
											<a class="btn btn-danger" style="border-radius:10px;" href="{{path("app_adorer_base",{'id':Produit.id})}}">
												<i class="bi bi-suit-heart "></i>
											</a>
										{% endif %}	
										{#}
										{% if is_granted('IS_AUTHENTICATED_FULLY') %}
											{% set verif = false %}
											{% for panier in app.user.panier.ajouter %}
												{% if panier.produit == Produit %}
													{% set verif = true %}
												{% endif %}
											{% endfor %}
											{% if verif %}
											<a class="btn btn-warning" href={{path('#',{'id':Produit.id})}}" role="button" >
												<i class="bi bi-bag-plus-fill"></i>
											{% else %}
											<a class="btn btn-success" href={{path('#',{'id':Produit.id})}}" role="button" >
												<i class="bi bi-bag-plus"></i>
											{% endif %}
										{% else %}
										<a class="btn btn-success" href={{path('#',{'id':Produit.id})}}" role="button" >
												<i class="bi bi-bag-plus-fill"></i>
										{% endif  %}	
										{#}	
									</div>
								</div>
							</div>
						{% endfor %}
					</div>
				{% endfor %}
				<br>
				<h2 style="font-family:Helvetica, sans-serif; text-align:center;">Support</h2>
				<br>
				<div class="row row-cols-1 row-cols-md-auto g-4">
				{% for Support in Supports %}		
				<div class="col">
					<div class="btn btn-lg btn-info mt-2">
						<a href="{{path("app_Support",{'id':Support.id})}}" style="font-family:Helvetica, sans-serif; text-align:center;"><button  type="submit" class="btn" >{{ Support.nom }}</button></a>
					</div>
				</div>
				{% endfor %}
				</div>
				</br>
				{% if is_granted('IS_AUTHENTICATED_FULLY') %}
				<h2 style="font-family:Helvetica, sans-serif; text-align:center;">favoris</h2>
				<br>
				<div class="row row-cols-1 row-cols-md-5 g-4">
				{% for Produit in app.user.aimer %}
                <div class="col">
						<div class="card h-100" style="width: 15rem; border-radius:10px;">
                            {% for Photo in Produit.Photos %}
							    {% if "jacket.jpg" == Photo.Nom %}
                                <a href="{{path("app_Produit",{'id':Produit.id})}}">
								    <img class="card-img-top" style="width: 15rem,  align-items: center; border-radius:10px" src="produit/{{Photo.chemin}}" alt="Photo du produit"> 
						        </a>
                                {% endif %}
                            {% endfor %}
                            <h5 style="font-family:Helvetica, sans-serif; text-align:center;">{{ Produit.nom }}</h5>
                                <span class="badge rounded-pill text-bg-dark" style="font-family:Helvetica, sans-serif; text-align:center;">{{ Produit.TypeProduit.TypeProduit }}</span>
                            <br>
								{% if Produit in app.user.aimer %}
								<a class="btn btn-danger" href="{{path("app_desadorer",{'id':Produit.id})}}">
									<i class="bi bi-suit-heart-fill " styte="text-align:center;"></i>
								</a>
								{% endif %}
								
                        </div>
                    </div>
            {% endfor %}
			{% endif %}
			</div>
		</div>
	</div>		
{% endblock %}

