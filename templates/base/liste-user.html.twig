{% extends 'base.html.twig' %}

{% block title %}
	{{parent()}}-Liste des utilisteurs
{% endblock %}

{% block body %}
	<h1 class="text-center text-primary mt-4 pt-4 display-1 fw-bold">Liste des utilisteurs</h1>
	<div class="row justify-content-center">
		<div class="col-12 col-md-8 bg-white p-4 m-0 text-primary">
			<div class="table-responsive">
				<table class="table table-hover">
					<thead>
						<tr class="fw-bold text-primary">
							<th scope="col">Email</th>
							<th scope="col">Date d'inscription</th>
							<th scope="col">Prénom</th>
							<th scope="col">Nom</th>
							<th scope="col">Telephone</th>
							<th scope="col">Numero</th>
							<th scope="col">Rue</th>
							<th scope="col">Code Postal</th>
							<th scope="col">Ville</th>
							<th scope="col">Pays</th>
							<th scope="col">Role</th>

						</tr>
					</thead>
					<tbody>
						{% for user in Users |sort((a, b) => a.prenom <=> b.prenom) %}
							<tr class="{{ cycle(['table-primary','table-secondary'], loop.index0) }}">
								<td>{{ user.email | lower }}</td>
								<td>{{ user.dateInscription | date("d-m-Y à H:i:s") }}</td>
								<td>{{ user.prenom | capitalize }}</td>
								<td>{{ user.nom | capitalize }}</td>
								<td>{{ user.telephone | capitalize}}</td>
								<td>{{ user.numero | capitalize }}</td>
								<td>{{ user.rue | capitalize }}</td>
								<td>{{ user.codePostal | capitalize }}</td>
								<td>{{ user.ville | capitalize }}</td>
								<td>{{ user.pays | capitalize }}</td>
								{% if "ROLE_ADMIN" in app.user.roles  %}
									<td>Adminitrateur</td>
								{% elseif "ROLE_MOD" in app.user.roles %}
									<td>Moderation</td>
								{% else %}
									<td>Utilisateur</td>
								{% endif %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		{% endblock %}
